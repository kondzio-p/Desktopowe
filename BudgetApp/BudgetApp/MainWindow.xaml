<Window x:Class="BudgetApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="BudgetApp" Height="600" Width="800"
        WindowStartupLocation="CenterScreen"
        Style="{StaticResource MaterialDesignWindow}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>

        <!-- Górny pasek nawigacyjny -->
        <ToolBar Grid.Row="0" Grid.ColumnSpan="2" Background="{DynamicResource PrimaryHueMidBrush}">
            <Button Content="Dodaj transakcję" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Click="AddTransaction_Click" />
            <Button Content="Usuń transakcję" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Click="RemoveTransaction_Click" />
            <Button Content="Podatki" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Click="EditTaxes_Click" />
        </ToolBar>

        <!-- Lewa sekcja: Wykresy finansowe -->
        <Border Grid.Row="1" Grid.Column="0" Margin="10" Background="White" Padding="10">
            <StackPanel>
                <TextBlock Text="Analiza finansowa" FontWeight="Bold" Margin="0 0 0 10" />
                <TextBlock Text="(Tutaj można dodać wykresy - np. LiveCharts)" Margin="10 0"/>
            </StackPanel>
        </Border>

        <!-- Prawa sekcja: Informacje o podatkach -->
        <Border Grid.Row="1" Grid.Column="1" Margin="10" Background="White" Padding="10">
            <StackPanel>
                <TextBlock Text="Nadchodzące zobowiązania podatkowe" 
                           FontWeight="Bold" Margin="0 0 0 10" />

                <!-- Lista podatków -->
                <ListView Name="TaxObligationsList" 
                          ItemsSource="{Binding TaxObligations}" 
                          SelectionChanged="TaxObligationsList_SelectionChanged">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Nazwa" DisplayMemberBinding="{Binding Name}" Width="150"/>
                            <GridViewColumn Header="Kwota" DisplayMemberBinding="{Binding Amount}" Width="100"/>
                            <GridViewColumn Header="Termin" DisplayMemberBinding="{Binding DueDate}" Width="150"/>
                        </GridView>
                    </ListView.View>
                </ListView>

                <!-- Sekcja edycji podatków -->
                <StackPanel Margin="10" Visibility="Collapsed" Name="EditTaxPanel">
                    <TextBlock Text="Edytuj podatek" FontWeight="Bold" Margin="0 0 0 10"/>

                    <TextBox Name="EditTaxName" 
                             materialDesign:HintAssist.Hint="Nazwa podatku" 
                             Style="{StaticResource MaterialDesignOutlinedTextBox}" 
                             Margin="0 10"/>

                    <TextBox Name="EditTaxAmount" 
                             materialDesign:HintAssist.Hint="Kwota" 
                             Style="{StaticResource MaterialDesignOutlinedTextBox}" 
                             Margin="0 10"/>

                    <DatePicker Name="EditTaxDueDate" 
                                materialDesign:HintAssist.Hint="Termin płatności" 
                                Style="{StaticResource MaterialDesignDatePicker}" 
                                Margin="0 10"/>

                    <Button Content="Zapisz zmiany" 
                            Style="{StaticResource MaterialDesignRaisedButton}" 
                            Click="SaveTaxChanges_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
